@model Infrastructure.Contracts.ViewModels.UpdateContractVm
@{
    Layout = "_Layout";
    ViewData["Title"] = "Kontraktın Redaktə Edilməsi";
    ViewData["MainTitle"] = "Kontraktın";
    ViewData["SubTitle"] = "Redaktə Edilməsi";
    ViewData["restaurants"] = "active";
}
@section scripts
{

    <script src="~/lib/jquery/jquery.js"></script>
    <script src="~/lib/jquery-validate/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>

    <script src="~/Limitless/global_assets/js/demo_pages/form_inputs.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/form_validation.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/validation/validate.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/inputs/touchspin.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/selects/select2.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/styling/switch.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/styling/switchery.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/styling/uniform.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/uploaders/fileinput/plugins/purify.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/uploaders/fileinput/plugins/sortable.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/uploaders/fileinput/fileinput.min.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/uploader_bootstrap.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/form_actions.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/form_checkboxes_radios.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/extensions/jquery_ui/interactions.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/selects/select2.min.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/form_select2.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/ui/moment/moment.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/daterangepicker.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/anytime.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/pickadate/picker.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/pickadate/picker.date.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/pickadate/picker.time.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/pickers/pickadate/legacy.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/notifications/jgrowl.min.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/picker_date.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/styling/uniform.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/notifications/pnotify.min.js"></script>
    <script src="~/Limitless/global_assets/js/plugins/forms/selects/bootstrap_multiselect.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/form_multiselect.js"></script>
    <script src="~/Limitless/global_assets/js/demo_pages/picker_date.js"></script>




}

<div class="card">
    <div class="card-header header-elements-inline">
        <h5 class="card-title font-weight-bold">Restoran Bölmələrı</h5>
    </div>

    <div class="card-body">
        <ul class="nav nav-tabs nav-tabs-highlight">
            <li class="nav-item"><a asp-controller="Restaurants" asp-action="Index" asp-route-page="1" class="nav-link">Restoranlar</a></li>
            <li class="nav-item"><a asp-controller="RestaurantStatuses" asp-action="Index" asp-route-page="1" class="nav-link">Statuslar</a></li>
            <li class="nav-item"><a asp-controller="RestaurantNetworks" asp-action="Index" asp-route-page="1" class="nav-link">Restoran şəbəkələri</a></li>
            <li class="nav-item"><a asp-controller="Contracts" asp-action="Index" asp-route-page="1" class="nav-link active">Müqavilələr</a></li>
            <li class="nav-item"><a asp-controller="RestaurantMeetings" asp-action="Index" asp-route-page="1" class="nav-link">Görüşlər</a></li>
            <li class="nav-item"><a asp-controller="BlackList" asp-action="Index" asp-route-page="1" class="nav-link">Qara siyahı</a></li>
        </ul>
        <div class="d-md-flex align-items-md-center flex-md-wrap text-center text-md-left">
            <ul class="list-inline list-inline-condensed mb-0">
                <li class="list-inline-item dropdown">
                    <a asp-action="Add" asp-controller="Restaurants" class="btn btn-link text-default"><i class="icon-add"></i> Yeni <strong>restoran</strong> əlavə et</a>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header header-elements-inline">
        <h5 class="card-title">Contract</h5>
        <div class="header-elements">
            <div class="list-icons">
                <a class="list-icons-item" data-action="collapse"></a>
                <a class="list-icons-item" data-action="reload"></a>
                <a class="list-icons-item" data-action="remove"></a>
            </div>
        </div>
    </div>

    <div class="card-body">
        <div class="text-danger" asp-validation-summary="All"></div>
        <form asp-action="Update" asp-controller="Contracts" asp-area="Panel" method="post">
            <fieldset>
                <legend class="font-weight-semibold text-uppercase font-size-sm">
                    <i class="icon-file-text2 mr-2"></i>
                    Kontrakt məlumatları
                    <a href="#" class="float-right text-default" data-toggle="collapse" data-target="#demo1">
                        <i class="icon-circle-down2"></i>
                    </a>
                </legend>

                <div class="collapse show" id="demo1">
                    <div class="form-group">
                        <label>Kontrakt adı</label>
                        <input type="text" class="form-control" asp-for="Name" placeholder="Contract Name">
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label>Qiymət</label>
                        <input class="form-control" asp-for="Payment" placeholder="Müqavilə adı">
                    </div>

                    <div class="form-group">
                        <label>Başlama vaxtı</label>
                        <div class="input-group">
                            <span class="input-group-prepend">
                                <span class="input-group-text"><i class="icon-calendar5"></i></span>
                            </span>
                            <input type="date" asp-for="StartDate" class="form-control pickadate-selectors" placeholder="Try me&hellip;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Bitmə vaxtı</label>
                        <div class="input-group">
                            <span class="input-group-prepend">
                                <span class="input-group-text"><i class="icon-calendar5"></i></span>
                            </span>
                            <input type="date" asp-for="EndDate" class="form-control pickadate-selectors" placeholder="Try me&hellip;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="d-block">Kontrakt növü</label>

                        <div class="form-group">
                            <label>İllik</label>
                            @if (Model.Yearly)
                            {
                <input type="checkbox" asp-for="Yearly" class="form-check-input-styled" checked data-fouc> }
                            else
                            {
                <input type="checkbox" asp-for="Yearly" class="form-check-input-styled" data-fouc>}
                        </div>

                    </div>


                    <div class="form-group">
                        <label>Məhsullar</label>
                        <select data-placeholder="Employee" multiple asp-for="ProductsId" asp-items="@Model.Products" class="form-control form-control-select2" data-fouc>
                        </select>
                    </div>



                </div>
            </fieldset>

            <fieldset>
                <legend class="font-weight-semibold text-uppercase font-size-sm">
                    <i class="icon-reading mr-2"></i>
                    İşçi məlumatları
                    <a class="float-right text-default" data-toggle="collapse" data-target="#demo2">
                        <i class="icon-circle-down2"></i>
                    </a>
                </legend>

                <div class="collapse show" id="demo2">

                    <div class="form-group">
                        <label>İşçi</label>

                        <select data-placeholder="Select Employee" asp-for="EmployeeId" asp-items="@Model.Employees" class="form-control select" data-fouc>
                        </select>

                    </div>

                </div>
            </fieldset>
            <input hidden asp-for="Id" value="@Model.Id" />


            <div class="text-right">
                <button type="submit" class="btn btn-warning">Redaktə et <i class="icon-paperplane ml-2"></i></button>
            </div>
        </form>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(() => {
        var sd_def = document.getElementById("StartDate");
        sd_def.defaultValue = @Model.StartDate;

        var ed_def = document.getElementById("EndDate");
        ed_def.defaultValue = @Model.EndDate;
    })
</script>